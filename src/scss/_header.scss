.header {
   position: fixed;
   left: 0;
   transform: translateZ(0);
   top: 0;
   max-width: 200px;
   height: calc(100svh);
   width: 100%;
   z-index: 100;
   user-select: none;
   transition: max-width 0.3s;
   //background: #000;
   &__body {
      max-width: 100%;
      height: 100%;
      transition: 0.3s;
      transition: max-width 0.3s;
      z-index: 0;
      overflow: hidden;
      position: relative;
   }
   &__wrapper {
      height: 100%;
      max-width: 100%;
      transition: 0.3s;
      transition: max-width 0.3s;
   }
   &__profil-wrapper {
      padding: 12px 0 0 12px;
   }
   &__profil {
      overflow: hidden;
      border-radius: 30px;
      background: var(--black-s);
      display: flex;
      align-items: center;
      justify-content: flex-start;
      gap: 6px;
      position: relative;
      padding: 6px 12px 6px 6px;
   }

   &__statut {
      background: var(--accent-l);
      min-width: 38px;
      height: 38px;
      border-radius: 30px;
      z-index: 10;
      display: grid;
      place-items: center;
      div {
         display: grid;
         place-items: center;
      }

      svg {
         color: var(--accent-d);
         width: 20px;
         height: 20px;
      }
   }

   &__profil-details {
      min-width: 0;
      overflow: hidden;
   }

   &__profil-details h1,
   &__profil-details p {
      display: block;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      width: 100%;
   }

   &__profil-details h1 {
      font-size: 20px;
      line-height: 1;
      color: var(--white-p);
      font-family: "Clash Display";
      font-weight: 500;
   }

   &__profil-details p {
      font-size: 12px;
      color: var(--white-s);
   }

   &__nav {
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      height: calc(100% - 140px);
   }
   &__burger {
      display: none;
   }
}

.menu {
   display: flex;
   flex-direction: column;
   justify-content: space-between;
   flex: 1 1 auto;
   overflow: hidden;
   transition: 0.3s;
   &__body {
      overflow: visible;
      height: 100%;
   }
   &__list {
      max-height: 800px;
      transition: 0.3s;
      padding: 10px 0px 12px 12px;
      display: flex;
      flex-direction: column;
      display: grid;
      grid-template-columns: 1fr;
      position: relative;
      z-index: 100;
      gap: 3px;
   }
   &__item {
      cursor: pointer;
      border-radius: 10px;
   }
   &__link {
      width: 100%;
      display: flex;
      align-items: center;
      gap: 3px;
      cursor: pointer;
      background: var(--black-s);
      border-radius: 6px;
      transition:
         all var(--elastic-s),
         background var(--classic-f);
   }
   &__item:first-child > button.menu__link {
      border-radius: 25px 25px 6px 6px;
   }
   &__nav-text {
      position: relative;
      transition: 0.3s;
      white-space: nowrap;
      font-size: 14px;
      color: var(--white-s);
   }
   &__icon {
      color: var(--white-s);
      padding: 12px;
      display: grid;
      place-items: center;
      transition: var(--elastic-s);
      div {
         display: grid;
         place-items: center;
      }
      svg {
         min-width: 24px;
         min-height: 24px;
         width: 24px;
         height: 24px;
      }
   }
   &__link:hover .menu__icon {
      color: var(--white-p);
   }
   &__list > li.menu__item:nth-child(1) .menu__link {
      border-radius: 25px 25px 6px 6px;
   }

   &__list > li.menu__item:nth-last-of-type(1) .menu__link {
      border-radius: 6px 6px 25px 25px;
   }
   &__item:hover .menu__link {
      gap: 6px;
      scale: 0.98;
      background: var(--black-t);
   }
   &__link--active {
      background: var(--accent-l) !important;
      border-radius: 25px !important;
      p,
      svg {
         color: var(--accent-d);
      }
   }
}

.menu .settings__item {
   display: none;
}
.settings .settings__item {
   display: flex;
}
// togle menu
.settings {
   transition: 0.3s;
   padding: 12px;
   display: flex;
   gap: 12px;
   &__wrapper {
      position: absolute;
      bottom: 0;
      left: 0;
      display: flex;
   }
   &__mode-btn {
      width: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      transition: 0.1s;
      border-radius: 25px;
   }
   &__icons {
      position: relative;
      display: flex;
      align-items: center;
      justify-content: center;
      background: var(--accent-l);
      transition: var(--classic-s);
      width: 50px;
      height: 50px;
      border-radius: 25px;
      //width: calc(176px);
      width: 50px;
   }
   &__icons:hover {
      //width: calc(176px);
      width: 70px;
      transition:
         all var(--elastic-s),
         background var(--classic-f);
      background: var(--accent-d);
   }
   &__icons:active {
      //width: 176px;
      width: 50px;
      background: var(--accent-d);
      transform: scale(0.8);
      border-radius: 25px;
      transition: var(--elastic-s);
   }

   &__icon-logout,
   &__icon {
      color: var(--accent-d);
      padding: 8px;
      display: grid;
      place-items: center;
      border-radius: 25px;
      position: absolute;
      transition:
         all var(--elastic-s),
         color var(--classic-f);
      div {
         display: grid;
         place-items: center;
      }
      svg {
         min-width: 24px;
         min-height: 24px;
         width: 24px;
         height: 24px;
      }
   }
   &__icon-logout {
      padding: 8px 6px 8px 10px;
   }
   &__icons:hover &__icon-logout,
   &__icons:hover &__icon {
      color: var(--accent-l);
   }
   &__icons:active &__icon-logout,
   &__icons:active &__icon {
      color: var(--accent-l);
   }
   p {
      white-space: nowrap;
      display: none;
   }
}

.sign .settings {
   right: 0;
   top: 0;
   left: auto;
   position: absolute;
   bottom: auto;
   &__item:nth-child(2) {
      display: none;
   }
   &__icons {
      width: 50px;
      background: var(--accent-d);
   }
   &__icons:hover {
      width: 70px;
      background: var(--accent-l);
   }
   &__icons:active {
      background: var(--accent-l);
      width: 50px;
      transform: scale(0.8);
   }
   &__icon {
      color: var(--accent-l);
   }
   &__icons:hover .settings__icon {
      color: var(--accent-d);
   }
   &__icons:active .settings__icon {
      color: var(--accent-d);
   }
}

.settings__icon:nth-child(1) {
   filter: blur(10px);
   transform: scale(0.5);
   opacity: 0;
}
.settings__icon:nth-child(2) {
   filter: blur(0);
   transform: scale(1);

   opacity: 1;
}
.darkmode .settings__icon:nth-child(1) {
   transform: scale(1);
   filter: blur(0);
   opacity: 1;
}
.darkmode .settings__icon:nth-child(2) {
   transform: scale(0.5);
   filter: blur(10px);
   opacity: 0;
}

@media (max-width: $tablet) {
   .header {
      width: 100%;
      left: 0;
      bottom: 0;
      top: auto;
      position: fixed;
      max-width: 100%;
      height: 100%;
      padding: 0;
      z-index: 100;
      pointer-events: none;
      background: transparent;
   }

   .header__profil-wrapper,
   .header__top {
      display: none;
   }

   .header__wrapper {
      padding: 12px;
      height: auto;
      display: flex;
      align-items: flex-end;
      justify-content: center;
      height: 100%;
      pointer-events: none;
   }

   .header__body {
      height: auto;
      border-radius: 32px;
      overflow: visible;
      pointer-events: none;
      display: flex;
   }

   .header__nav {
      height: auto;
      pointer-events: all;
      width: 100%;
   }

   .menu {
      overflow: visible;
      width: 100%;
   }

   .menu__body {
      overflow: visible;
      position: relative;
   }

   /* ===== Bottom bar (un singur UL) ===== */
   .menu__bar {
      --barH: 56px;

      position: relative;
      z-index: 100;

      display: grid;
      grid-template-columns: repeat(4, 1fr); // 3 links + burger
      align-items: stretch;

      height: var(--barH);
      padding: 4px;
      gap: 3px;

      background: var(--black-t);
      background: var(--blur-bg);

      backdrop-filter: blur(20px);
      border-radius: 28px;
      overflow: hidden;
   }

   /* Linkurile din bar: fără 1000 de background-uri */
   .menu__bar .menu__link {
      height: 100%;
      width: 100%;
      background: transparent;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      border-radius: 30px;
      gap: 0px;
      min-width: 62px;
   }
   .menu__item:hover .menu__link {
      gap: 0px;
      scale: 0.98;
      background: var(--black-t);
      border-radius: 30px;
   }
   .menu__link--active {
      background: var(--accent-l) !important;
      border-radius: 25px !important;
      p,
      svg {
         color: var(--accent-d);
      }
   }
   .menu__bar .menu__icon {
      padding: 0;
      background: transparent;

      svg {
         width: 20px;
         height: 20px;
         min-width: 20px;
         min-height: 20px;
      }
   }

   .menu__bar .menu__nav-text {
      height: 0;
      opacity: 0;
      overflow: hidden;
      display: none;
   }

   /* Burger (tot în UL ca LI) */
   .menu__item--burger {
      border-right: 0 !important;
      padding: 0;
      display: grid;
      place-items: center;
   }

   .menu__burger-btn {
      width: 100%;
      height: 100%;
      border-radius: 32px;
      background: var(--white-p);
      position: relative;
   }

   .menu__burger-icon {
      position: absolute;
      top: 50%;
      left: 50%;
      width: 20px;
      height: 20px;
      transform: translate(-50%, -50%);
      color: var(--black-s);
      transition: opacity 0.2s;
   }

   .menu__burger-icon--open {
      opacity: 1;
   }
   .menu__burger-icon--close {
      opacity: 0;
   }

   /* ===== Drawer ABSOLUT (nu împinge layout) ===== */
   .menu__drawer {
      position: absolute;
      left: 0;
      right: 0;

      // păstrăm poziția fixă deasupra bar-ului
      bottom: calc(56px + 10px);
      z-index: 90;

      border-radius: 32px;
      background: var(--blur);
      backdrop-filter: blur(20px);
      overflow: hidden;

      padding: 6px;
      gap: 6px;
      display: flex;
      flex-direction: column;

      // ✅ închis: împins clar în jos (în afara ecranului)
      transform: translateY(145%) scaleX(0.1) scaleY(1);
      pointer-events: none;

      // ✅ animație vizibilă, fără “delay” ci direct
      transition: transform 0.4s cubic-bezier(0.175, 1.385, 0.32, 1.075);
      will-change: transform;
   }

   .menu__drawer-list {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 6px;
      overflow: auto;
   }

   .menu__drawer-list .menu__link {
      background: var(--black-p);
      border-radius: 32px !important;
      align-items: center;
      display: flex;
      justify-content: flex-start;
      gap: 0px !important;
   }

   .menu__drawer-list .menu__nav-text {
      height: 18px;
      opacity: 1;
      font-size: 12px;
      text-align: center;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
   }
   .menu__drawer-list .menu__icon {
      padding: 16px 12px 16px 16px;
      svg {
         width: 20px;
         height: 20px;
         min-width: 20px;
         min-height: 20px;
      }
   }

   .menu__drawer-settings.settings {
      padding: 0;
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 6px;
   }
   .menu__drawer-hr {
      width: calc(100% - 38px);
      height: 1px;
      background: #87878779;
      align-self: center;
   }
   .menu__drawer-settings .settings__item {
      display: flex;
      justify-content: flex-start;
   }
   .menu__drawer-settings .settings__icons,
   .menu__drawer-settings .settings__mode-btn {
      width: 100%;
   }

   /* ===== OPEN STATE (fără clase globale pe html/body) ===== */
   .menu.menu--open {
      .menu__bar .menu__link {
         min-width: 70px;
      }
      .menu__drawer {
         transform: translateY(0) scaleX(1);
         pointer-events: auto;
      }

      .menu__burger-icon--open {
         opacity: 0;
      }
      .menu__burger-icon--close {
         opacity: 1;
      }
   }

   /* ascund settings desktop pe mobil */
   .settings__wrapper {
      display: none;
   }
}
